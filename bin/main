#!/usr/bin/env ruby
class TicTacToe
  $pick = nil

  attr_accessor :numbers
  def initialize
    @board = Board.new
    @player = Player.new
  end

  def play
    @board.display
    round = 1
    while round <= @board.numbers.size
      if round % 2 == 0
        player = "Player 2"
      else
        player = "Player 1"
      end
      until @board.valid?($pick) and @player.unique?($pick)
        @board.prompt_message(player)
        $pick = gets.chomp.to_i
      end
      @player.player_array(player) << $pick
      @board.numbers[$pick - 1] = @player.player_totem(player)
      @board.display
      break if win? or tie?

      round += 1
    end
  end
end

require_relative '../lib/player.rb'
require_relative '../lib/board.rb'
require_relative '../lib/game_logic.rb'

game = TicTacToe.new
game.play
